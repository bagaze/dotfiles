# Fonts
font_family      family='Iosevka Term SS14' style=Semibold
bold_font        family='Iosevka Term SS14' style=Bold
italic_font      family='Iosevka Term SS14' style='Semibold Italic'
bold_italic_font family='Iosevka Term SS14' style='Bold Italic'
font_size 15.0
## Force kitty nerd fonts
# symbol_map U+e000-U+e00a,U+ea60-U+ebeb,U+e0a0-U+e0c8,U+e0ca,U+e0cc-U+e0d7,U+e200-U+e2a9,U+e300-U+e3e3,U+e5fa-U+e6b1,U+e700-U+e7c5,U+ed00-U+efc1,U+f000-U+f2ff,U+f000-U+f2e0,U+f300-U+f372,U+f400-U+f533,U+f0001-U+f1af0 IosevkaTermSlab Nerd Font Mono

# Kitty behavior
scrollback_lines 3500
enabled_layouts  splits,stack

# Keybindings
## Shortcuts - From https://medium.com/@justforlxz/kitty-configuration-for-macos-9c560a4e50d9
# clear the terminal screen
map cmd+k combine : clear_terminal scrollback active : send_text normal,application \x0c
# jump to beginning and end of word
map alt+left send_text all \x1b\x62
map alt+right send_text all \x1b\x66
# jump to beginning and end of line
map cmd+left send_text all \x01
map cmd+right send_text all \x05
# Remove line
map cmd+backspace send_text all \x15

# Changing font sizes
map cmd+equal change_font_size all +2.0
map cmd+minus change_font_size all -2.0
map cmd+0 change_font_size all 0

# Tabs
map cmd+shift+l next_tab
map cmd+shift+h previous_tab
map cmd+shift+right move_tab_forward
map cmd+shift+left move_tab_backward
map cmd+shift+t new_tab_with_cwd
# Map cmd + <num> to corresponding tabs
map cmd+1 goto_tab 1
map cmd+2 goto_tab 2
map cmd+3 goto_tab 3
map cmd+4 goto_tab 4
map cmd+5 goto_tab 5
map cmd+6 goto_tab 6
map cmd+7 goto_tab 7
map cmd+8 goto_tab 8
map cmd+9 goto_tab 9
# Set tab title => defaults to empty
map cmd+shift+i set_tab_title " "

# Leader key actions
## Leader through mod
map --new-mode tm --on-unknown end --on-action end ctrl+space
## Reload kitty
map --mode tm r load_config_file

## Tabs
map --mode tm t new_tab
map --mode tm x close_tab
map --mode tm b previous_tab
map --mode tm n next_tab

## Tmux like
map --mode tm apostrophe launch --location=vsplit --cwd=current
map --mode tm ;          launch --location=hsplit --cwd=current
map --mode tm k          neighboring_window up
map --mode tm h          neighboring_window left
map --mode tm l          neighboring_window right
map --mode tm j          neighboring_window down
map --mode tm z          toggle_layout stack
map --mode tm left       resize_window wider 5
map --mode tm right      resize_window narrower 5
map --mode tm up         resize_window shorter 5
map --mode tm down       resize_window taller 5

## Remap for neovim
## From: https://blog.schroederspace.com/tumbleweed-technology/copy-paste-with-neovim-and-kitty-on-macos
map cmd+c kitten ./kitten_scripts/pass_keys.py copy cmd+c
map cmd+w kitten ./kitten_scripts/pass_keys.py close_tab cmd+w
# map cmd+v kitten ./kitten_scripts/pass_keys.py paste cmd+v

# UI
## Windows size
remember_window_size  no
initial_window_width  1000
initial_window_height 700

## Opacity
background_opacity 0.95
background_blur    20

## Windows border
draw_minimal_borders    no
window_padding_width    4
window_border_width     1
hide_window_decorations titlebar-and-corners
inactive_text_alpha     0.85
active_border_color     #EB6F92
inactive_border_color   #737994
bell_border_color       #e5c890

# MacOS
macos_option_as_alt left

# App
## Closes when no remaining tabs - From: https://github.com/kovidgoyal/kitty/issues/4195
macos_quit_when_last_window_closed True

# Minimal latency (may impact battery)
# From https://sw.kovidgoyal.net/kitty/performance/#keyboard-to-screen-latency
input_delay 0
repaint_delay 2
sync_to_monitor no
wayland_enable_ime no

# Shhhhh...
enable_audio_bell no

# Prevent paste warnings
paste_actions replace-dangerous-control-codes

# Tabs config
tab_bar_margin_width      2
tab_bar_margin_height     2 0
tab_bar_style             separator
tab_bar_min_tabs          1
tab_separator             ""
tab_title_template        "{fmt.fg._323449}{fmt.bg.default}ÓÇ∂{fmt.fg._FFFFFF}{fmt.bg._323449}{'Ôîû ' if layout_name == 'stack' else ''}{index}{fmt.fg._04d1f9}{fmt.bg._323449} {title[:15] + (title[15:] and '‚Ä¶')} {fmt.fg._323449}{fmt.bg.default}ÓÇ¥ "
active_tab_title_template "{fmt.fg._FF5DA9}{fmt.bg.default}ÓÇ∂{fmt.fg._FFFFFF}{fmt.bg._FF5DA9}{'Ôîû ' if layout_name == 'stack' else ''}{'üöÄ' if keyboard_mode == 'tm' else '‚≠êÔ∏è'}{fmt.fg._212337}{fmt.bg._FF5DA9} {title[:40] + (title[40:] and '‚Ä¶')} {fmt.fg._FF5DA9}{fmt.bg.default}ÓÇ¥ "
tab_bar_align             center
tab_switch_strategy       right

# Cursor
cursor_shape beam

# Theme
# Cursor colors
cursor                  #f2d5cf
cursor_text_color       #303446

# URL underline color when hovering with mouse
url_color               #f2d5cf

# Tab bar colors
active_tab_foreground   #232634
active_tab_background   #ca9ee6
inactive_tab_foreground #c6d0f5
inactive_tab_background #1E496B
tab_bar_background      #1E1C2F

# Colors for marks (marked text in the terminal)
mark1_foreground #303446
mark1_background #babbf1
mark2_foreground #303446
mark2_background #ca9ee6
mark3_foreground #303446
mark3_background #85c1dc

# Custom rose-pine-moon
## The basic colors
foreground              #e0def4
background              #232136
selection_foreground    #232136
selection_background    #e0def4

# Main theme
color0 #232137
color8 #6E6A86

color1 #EB6F92
color9 #EB6F92

color2  #3E8FB0
color10 #3E8FB0

color3  #EB9A97
color11 #EB9A97

color4  #C4A7E7
color12 #C4A7E7

color5  #F6C177
color13 #F6C177

color6  #9DCED9
color14 #9DCED9

color7  #E0DEF4
color15 #56526E
